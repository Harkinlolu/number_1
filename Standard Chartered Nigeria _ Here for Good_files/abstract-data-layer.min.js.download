!function a(o,r,i){function c(t,e){if(!r[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},o[t][0].call(n.exports,function(e){return c(o[t][1][e]||e)},n,n.exports,a,o,r,i)}return r[t].exports}for(var s="function"==typeof require&&require,e=0;e<i.length;e++)c(i[e]);return c}({1:[function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r,i,c=function(){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r)}var e,t,n;return e=r,(t=[{key:"getHorizontalPosition",value:function(e){return e<Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)/2?"left":"right"}},{key:"calcElementLocation",value:function(e){if(!e)return"";if(e.closest(".c-modal")||e.closest(".sc-modal"))return"lightbox";if("string"==typeof e.className&&void 0!==e.className.includes&&(-1!==e.className.indexOf("sc-card-comparator__compare-btn")||-1!==e.className.indexOf("sc-card-comparator__card-remove")))return"bottom";if(e.closest(".m-persistent-bar")||e.closest(".sc-persistent-bar")||e.closest(".m-persistent-bootom-bar"))return"persistent-bar";var t=[{name:"top",depth:30},{name:"middle",depth:70},{name:"bottom",depth:100}],n=Math.max(document.body.clientHeight,window.outerHeight);if(n<=0)return"";for(var a=100*parseInt(this.getPosition(e))/n,o=0;o<t.length;o++)if(a<t[o].depth)return t[o].name;return"string"==typeof e.parentNode.parentNode.className&&void 0!==e.parentNode.parentNode.className.includes&&-1!==e.parentNode.parentNode.className.indexOf("sc-hdr__search")?"top":"bottom"}},{key:"getPosition",value:function(e){if(!e)return"";for(var t=0;e;)t+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return t}},{key:"parseUrl",value:function(e){var t=document.createElement("a");return t.href=e,e="mailto:"==t.protocol||"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname,{href:t.href,protocal:t.protocol,hostname:t.hostname,port:t.port,pathname:-1!==t.hash.indexOf("?")?e+t.hash:e,rawpath:e,query:t.query||t.search,search:t.query||t.search,hash:t.hash,host:t.host}}},{key:"urlBreakdown",value:function(e){var t=this.parseUrl(e),n=t.search,a=t.pathname.split("/"),o=t.hash,e={sgbeta:"sg"},n={domain:null,country:null,language:null,category:null,segment:"personal",subcategory:null,slug:null,queryString:n=n&&0===n.indexOf("?")?n.slice(1):n,hash:null,pathname:document.location.pathname};return n.domain=t.hostname,n.country=a[1],n.language="en","cn"!==n.country&&"tw"!==n.country||(n.language="zh"),a[2]&&(n.category=a[2],2===a[2].length&&(n.language=a[2],n.category=a[3])),""!==a[a.length-1]&&"index.html"!==a[a.length-1]?n.slug=a[a.length-1]:n.slug=a[a.length-2],n.slug?-1!==n.slug.indexOf(".")?(t=n.slug.split("."),n.name=t[0],n.extension=t[1]):(n.name=n.slug,n.extension=""):(n.slug="",n.name="",n.extension=""),a.length<=4&&-1!==r.constants.LANGUAGES.indexOf(n.slug)&&(n.slug=n.country),o&&(n.hash=o),5<=a.length&&(n.subcategory=a[3]),-1!==n.pathname.indexOf("priority")?n.segment="priority":-1!==n.pathname.indexOf("business")&&(n.segment="business"),e[n.country]&&(n.country=e[n.country]),n}},{key:"getCookie",value:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}},{key:"getPageContext",value:function(){var e=document.title,t=document.querySelector('meta[name="sc:country"]'),n=document.querySelector('meta[name="sc:language"]'),a=document.querySelector('meta[name="sc:segment"]'),o=document.querySelector('meta[name="sc:categories"]'),r=document.querySelector('meta[name="sc:subcategories"]'),i=document.querySelector('meta[name="sc:page-slug"]'),c={title:null,country:null,language:null,segment:null,category:null,subcategory:null,slug:null};return e&&(c.title=e.trim()),t&&(c.country=t.getAttribute("content")),n&&(c.language=n.getAttribute("content")),c.language||(n=document.documentElement.lang)&&(c.language=n.split("-")[0].toLowerCase()),a&&(c.segment=a.getAttribute("content")),o&&(c.category=o.getAttribute("content")),r&&(c.subcategory=r.getAttribute("content")),i&&(c.slug=i.getAttribute("content")),this.extend(this.urlBreakdown(window.location.href),c)}},{key:"extend",value:function(t,n){return Object.keys(n).forEach(function(e){t[e]=n[e]}),t}},{key:"getPageUrl",value:function(){return this.getPageContext()}},{key:"getCountryNameFromURL",value:function(){var e=window.location.href.replace("http://","").replace("https://","").split("/"),t=this.getCurrentEnvironment();return r.constants.DEVELOPMENT===t||r.constants.STAGING===t?e[2]:e[1]}},{key:"getCurrentEnvironment",value:function(){var e=["cmsdev","preview","standardchartered","sc","com","av","assets","global","development","staging","digital","https","cmsstage","cms","dev","zoo"],t=this.getPageUrl().domain;return-1!==t.indexOf(e[3]+"."+e[4])?t===e[0]+"."+e[3]+"."+e[4]?r.constants.DEVELOPMENT:t===e[12]+"."+e[3]+"."+e[4]?r.constants.STAGING:t===e[13]+"."+e[3]+"."+e[4]?r.constants.PREVIEW:r.constants.PRODUCTION:t===e[1]+"."+e[2]+"."+e[4]?this.getPageUrl().pathname.match("^/staging")?r.constants.STAGING:this.getPageUrl().pathname.match("^/development")?r.constants.DEVELOPMENT:r.constants.PREVIEW:r.constants.DEVELOPMENT}},{key:"previewLog",value:function(e){this.getCurrentEnvironment()!==r.constants.PREVIEW&&this.getCurrentEnvironment()!==r.constants.DEVELOPMENT||"undefined"!=typeof console&&void 0!==console.log&&console.log(e)}}])&&a(e.prototype,t),n&&a(e,n),r}();i={DEVELOPMENT:"development",PREVIEW:"preview",PRODUCTION:"production",STAGING:"staging",PERSONAL:"personal",PRIORITY:"priority",BUSINESS:"business",CORPORATE:"corporate",PRIVATE:"private",COMMERCIAL:"commercial",LANGUAGES:["en","zh"],ALLOWABLE_QUERYSTRING:["subChanCode","camp_id","pid","promoCode","promo","referId","instance","state","utm_source","utm_medium","utm_campaign","utm_term","utm_content","GiPrm","productName","truspleBuyerId"]},(r="constants")in(o=c)?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i;var s=new c;n.default=s},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("./common-event-listener");e=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};n.default=e},{"./common-event-listener":5}],3:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"handleDigitalDataPush",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(e){for(var t in e.data)if("page"===t)for(var n in e.data.page)window.digitalData[t][n]=e.data.page[n];else window.digitalData[t]=e.data[t];var a={eventInfo:{eventName:e.event}};window.digitalData.event||(window.digitalData.event=[]),window.digitalData.event.push(a)}}}])&&o(t.prototype,n),a&&o(t,a),e}());n.default=a},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(e("./adobe-main")),r=a(e("./google-main"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"init",value:function(){var t,n;t=scAnalyticsDataArray,n=function(t){t.filter(function(e){window.digitalData&&o.default.handleDigitalDataPush(e),window.dataLayer&&r.default.handleDataLayerPush("",e),t.shift()})},t.push=function(e){Array.prototype.push.call(t,e),n(t)}}}])&&i(t.prototype,n),a&&i(t,a),e}());"undefined"!=typeof scAnalyticsDataArray&&e.init(),n.default=e},{"./adobe-main":3,"./google-main":6}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("./analytics-event-handler");var a,g=(a=e("../../analytics/adobe/eddl/common-functions"))&&a.__esModule?a:{default:a};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=!0,i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"init",value:function(){var l=this;window.digitalData=window.digitalData||{},window.digitalData&&(window.digitalData.page=window.digitalData.page||{},window.digitalData.page.attributes=window.digitalData.page.attributes||{},window.digitalData.page.attributes.platform=(document.documentElement.clientWidth||document.body.clientWidth)<768?"mobile":"desktop");var d=document.querySelector("meta[name='sc:page-slug']")?document.querySelector("meta[name='sc:page-slug']").getAttribute("content").toLowerCase():"",e=document.querySelector("meta[name='title']");!e||"404-error-page"!=e.getAttribute("content")&&"404 Error Page"!=e.getAttribute("content")||(a={data:{error:{errorCode:"404",errorDescription:"page not found"}},event:"errorPage",title:document.title,href:window.location.href,context:"404 Page not found"},scAnalyticsDataArray.push(a));var t,n,m,f;document.body.addEventListener("mousedown",function(e){t=e.pageX,n=e.pageY}),document.body.addEventListener("mouseup",function(e){m=Math.abs(e.pageX-t),f=Math.abs(e.pageY-n)}),document.addEventListener("click",function(e){var t,n,a,o,r,i,c,s,u;(10<m||10<f)&&"search"!==d||(t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),u=e.target.closest("a"),"string"==typeof e.target.className&&void 0!==e.target.className.includes&&-1!==e.target.className.indexOf("c2c_text_content")?(c={data:{customLinkClick:{customLinkName:(e.target.innerText||e.target.textContent).trim().toLowerCase(),customLinkPosition:"chat-button"}},event:"ctaClick",title:document.title,href:window.location.href,context:"chat-button"},scAnalyticsDataArray.push(c)):u&&(e.preventDefault(),n=(n=u.getAttribute("href"))&&n.trim(),a=void 0===e.target.getAttribute("target")?"":u.getAttribute("target"),o=g.default.urlBreakdown(n),r=void 0===e.target.getAttribute("data-send")||null===e.target.getAttribute("data-send")?"":e.target.getAttribute("data-send").toLowerCase(),e.target.closest(".m-search-result ul.list")&&"search"==d?(s=document.querySelector(".sc-searchpage__form-search input[name='global-search']").value.trim(),i=e.target.closest("a").getAttribute("title").trim(),c=(c=e.target.closest(".result-item").getAttribute("id").trim()).substr(12),s={data:{page:{search:{keyword:s,clickedTitle:i,searchRank:Number(c)+1}}},event:"searchResultClickThrough",title:document.title,href:window.location.href,context:s},scAnalyticsDataArray.push(s)):(e={data:{customLinkClick:{customLinkName:s=(s=void 0===e.target.getAttribute("title")?e.target.innerText||e.target.textContent||u.getAttribute("data-context")||u.getAttribute("aria-label"):u.getAttribute("title"))&&s.toLowerCase().trim(),customLinkPosition:l.calcElementLocation(e.target)}},event:"ctaClick",title:document.title,href:window.location.href,context:l.calcElementLocation(e.target)},scAnalyticsDataArray.push(e)),u=u.getAttribute("data-modal-source"),n&&(u||!l.isInternalDomain(o.domain)&&""!==o.domain&&o.domain!==document.location.hostname&&"close-modal"!=r&&"/"!==n.charAt(0)||(a&&"_blank"===a.toLowerCase()?("//"==n.substring(0,2)?n=t+"/"+(n=n.substr(2)):"/"===n.charAt(0)&&(n=t+"/"+(n=n.substr(1))),window.open(n,"_blank")):n&&"#"==n.charAt(0)?location.href=n:!n||"tel"!=n.substring(0,3).toLowerCase()&&"mailto"!=n.substring(0,6).toLowerCase()?n&&"javascript"==n.substring(0,10).toLowerCase()||(n&&l.isValidURL(n)&&"/"!==n.charAt(0)?setTimeout(function(){location.href=l.getValidUrl(n)},200):("//"==n.substring(0,2)?n=n.substr(2):"/"===n.charAt(0)&&(n=n.substr(1)),n=t+"/"+n,setTimeout(function(){location.href=n},200))):window.open(n,"_self")))))});var a=document.querySelector(".sc-searchpage__form-search input[name='global-search']");a&&(a.addEventListener("focus",function(){r=!0}),a.addEventListener("keyup",l.delayFiveSeconds(function(){var e,t;r&&(t={data:{page:{search:{keyword:t=document.querySelector(".sc-searchpage__form-search input[name='global-search']").value.trim(),numberOfResults:e=parseInt(document.querySelector("li:first-child span.counter").innerText)}}},event:e&&"undefined"!=e?"siteSearch":"zeroSearchResults",title:document.title,href:window.location.href,context:t},scAnalyticsDataArray.push(t),r=!1)})),a.addEventListener("blur",function(){r&&window.setTimeout(function(){var e=document.querySelector(".sc-searchpage__form-search input[name='global-search']").value.trim(),t=parseInt(document.querySelector("li:first-child span.counter").innerText),e={data:{page:{search:{keyword:e,numberOfResults:t}}},event:t&&"undefined"!=t?"siteSearch":"zeroSearchResults",title:document.title,href:window.location.href,context:e};scAnalyticsDataArray.push(e)},500),r=!1}))}},{key:"calcElementLocation",value:function(e){if(e.closest(".c-modal")||e.closest(".sc-modal"))return"lightbox";if(e.closest(".m-persistent-bar")||e.closest(".sc-persistent-bar")||e.closest(".m-persistent-bootom-bar"))return"persistent-bar";var t=[{name:"top",depth:30},{name:"middle",depth:70},{name:"bottom",depth:100}],n=Math.max(document.body.clientHeight,window.outerHeight);if(n<=0)return"";for(var a=100*parseInt(this.getPosition(e))/n,o=0;o<t.length;o++)if(a<t[o].depth)return t[o].name;return"string"==typeof e.parentNode.parentNode.className&&void 0!==e.parentNode.parentNode.className.includes&&-1!==e.parentNode.parentNode.className.indexOf("sc-hdr__search")?"top":"bottom"}},{key:"getPosition",value:function(e){if(!e)return 0;for(var t=0;e;)t+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return t}},{key:"delayFiveSeconds",value:function(n,a){var o=null;return function(){var e=this,t=arguments;clearTimeout(o),o=window.setTimeout(function(){n.apply(e,t)},a||5e3)}}},{key:"isValidURL",value:function(e){return!!e&&null!==e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)}},{key:"getValidUrl",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(e){e=(e=window.decodeURIComponent(e)).trim().replace(/\s/g,"");return/^(:\/\/)/.test(e)?"http".concat(e):/^(f|ht)tps?:\/\//i.test(e)?e:"https://".concat(e)}}},{key:"isInternalDomain",value:function(e){if(!e)return!1;for(var t=[/^myinfosg.api.gov.sg$/,/^sc.com$/,/^.*\.sc\.com$/,/^standardchartered.com$/,/^.*\.standardchartered\.com/,/^.*\.standardchartered\.com\..*/,/^standardchartered\.co\..*$/,/^.*\.standardchartered\.co\..*$/,/www.wowmanhattan.com.sg/,/saml.singpass.gov.sg/,/#null/],n=0;n<t.length;n++)if(t[n].test(e))return!0;return!1}}])&&o(t.prototype,n),a&&o(t,a),e}());window.addEventListener("load",function(){"undefined"!=typeof scAnalyticsDataArray&&i.init()}),n.default=i},{"../../analytics/adobe/eddl/common-functions":1,"./analytics-event-handler":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("../../analytics/adobe/eddl/common-functions"))&&a.__esModule?a:{default:a};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"init",value:function(){this.pageContext=o.default.getPageContext(),this.pageUrl=o.default.getPageUrl()}},{key:"handleDataLayerPush",value:function(e){var t,n,a,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;o&&(t=o.title,a=o.href,(n=o.context)&&(o=this.pageContext.country,a={event:"trackElement",eventCategory:"~"+(o=!this.pageContext.country?this.pageUrl.country:o)+" : ^"+this.pageContext.title,eventAction:t.trim()+(""!==n?"-"+n.trim():""),eventLabel:a},window.dataLayer.push(a)))}}])&&r(t.prototype,n),a&&r(t,a),e}());i.init(),n.default=i},{"../../analytics/adobe/eddl/common-functions":1}]},{},[2]);